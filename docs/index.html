<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Slipbox</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <link rel="stylesheet" href="basic.css" />
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
  <script type="module">
  import cytoscape from 'https://cdnjs.cloudflare.com/ajax/libs/cytoscape/3.15.2/cytoscape.esm.min.js';
  import Fuse from 'https://cdn.jsdelivr.net/npm/fuse.js@6.4.0/dist/fuse.esm.js';

  function graphArea () {
    const div = document.createElement('div');
    div.style.width = '100%';
    div.style.height = '60vh';
    div.style.position = 'relative';
    div.style.top = '0px';
    div.style.left = '0px';
    div.innerHTML = '<hr><div class="info-container"></div>';
    return div
  }

  function tagElement (tag) {
    return {
      data: {
        id: tag,
        title: tag,
        label: tag,
        color: 'black',
        bgColor: 'gold'
      }
    }
  }

  function noteElement (note, currentNote = false) {
    return {
      data: {
        id: note.id,
        title: note.title,
        filename: note.filename,
        label: note.id,
        color: 'white',
        bgColor: currentNote ? 'black' : 'gray'
      }
    }
  }

  function linkElement (type, source, target) {
    console.assert(['backlink', 'direct', 'sequence'].includes(type));
    const id = type.slice(0, 1) + `${source}-${target}`;
    const style = type === 'sequence' ? 'dashed' : 'solid';
    const color = 'black';
    return {
      data: { id, source, target, arrow: 'triangle', style, color }
    }
  }

  function dfs (graph, src) {
    if (!graph[src]) return []
    const edges = [];
    const done = new Set();
    const stack = [src];
    while (stack.length > 0) {
      const top = stack.pop();
      if (done.has(top)) continue
      const children = graph[top] || [];
      for (const child of children) {
        edges.push([top, child]);
        stack.push(child);
      }
      done.add(top);
    }
    return edges
  }

  function traverse (query, id) {
    const edges = [];
    for (const { forward, reverse } of Object.values(query.db.data.clusters)) {
      edges.push(...dfs(forward, id));
      edges.push(...dfs(reverse, id).map(([a, b]) => [b, a]));
    }
    return Array.from(new Set(edges.filter(([a, b]) => a !== b)))
  }

  function * clusterElements (query, tag) {
    const cluster = query.db.data.clusters[tag] || { forward: [] };
    for (const [src, dests] of Object.entries(cluster.forward)) {
      const source = Number(src);
      yield noteElement(query.note(source));
      for (const dest of dests) {
        if (source !== dest) {
          yield typeof dest === 'number'
            ? noteElement(query.note(dest))
            : tagElement(dest);
          yield linkElement('sequence', source, dest);
        }
      }
    }
  }

  function * neighborElements (query, note) {
    yield noteElement(note, true);

    for (const backlink of note.backlinks()) {
      yield noteElement(backlink.src);
      yield linkElement('backlink', backlink.src.id, note.id);
    }
    for (const link of note.links()) {
      yield noteElement(link.dest);
      yield linkElement('direct', note.id, link.dest.id);
    }
    for (const [src, dest] of traverse(query, note.id)) {
      yield noteElement(query.note(src));
      yield typeof dest === 'number'
        ? noteElement(query.note(dest))
        : tagElement(dest);
      yield linkElement('sequence', src, dest);
    }
  }

  function createCytoscape (container, elements) {
    const cy = cytoscape({
      directed: true,
      multigraph: true,
      container: container,
      elements: elements,
      selectionType: 'additive',
      style: [
        {
          selector: 'node',
          style: {
            label: 'data(label)',
            height: 'label',
            width: 'label',
            padding: '8px',
            shape: 'round-rectangle',
            color: 'data(color)',
            'background-color': 'data(bgColor)',
            'text-halign': 'center',
            'text-valign': 'center',
            'text-wrap': 'wrap',
            'text-max-width': 100
          }
        },
        {
          selector: 'edge',
          style: {
            width: 2,
            'curve-style': 'bezier',
            'line-color': 'data(color)',
            'line-style': 'data(style)'
          }
        },
        {
          selector: 'edge[arrow]',
          style: {
            'target-arrow-color': 'data(color)',
            'target-arrow-shape': 'data(arrow)'
          }
        }
      ]
    });
    cy.layout({
      name: 'breadthfirst',
      spacingFactor: 1.0,
      fit: true,
      directed: true,
      avoidOverlap: true,
      nodeDimensionsIncludeLabels: true
    }).run();
    cy.reset();
    cy.center();

    const infoContainer = container.querySelector('div.info-container');
    const [show, hide] = hoverHandlers(infoContainer);
    cy.on('select', 'node', show);
    cy.on('unselect', 'node', hide);
    return cy
  }

  function noteInfoDiv () {
    const div = document.createElement('div');
    div.style.bottom = 0;
    div.style.right = 0;
    div.style.padding = '20px';
    div.style.position = 'fixed';
    div.style.maxWidth = '30em';
    div.style.zIndex = 1;
    return div
  }

  function hoverHandlers (container) {
    const header = document.createElement('header');
    header.innerHTML = '<h3><a href=""></a></h3><p></p>';
    const a = header.querySelector('a');
    const p = header.querySelector('p');

    const infoDiv = noteInfoDiv();
    infoDiv.appendChild(header);
    container.appendChild(infoDiv);

    const show = event => {
      const title = event.target.data('title');
      const filename = event.target.data('filename');
      a.textContent = title;
      a.href = '#' + event.target.data('id');
      p.textContent = filename;
      event.target.data('label', title);
    };
    const hide = event => {
      event.target.data('label', event.target.data('id'));
      a.textContent = '';
      p.textContent = '';
    };
    return [show, hide]
  }

  function init (query) {
    let container = graphArea();

    function resetGraph () {
      container.remove();
      const id = Number(window.location.hash.slice(1));
      const elements = [];
      if (Number.isInteger(id)) {
        const note = query.note(id);
        if (note != null) {
          elements.push(...neighborElements(query, note));
        }
        if (elements.length < 2) return
      } else {
        elements.push(...clusterElements(query, window.location.hash.slice(1)));
        if (elements.length === 0) return
      }
      container = document.body.appendChild(graphArea());
      createCytoscape(container, elements);
    }

    resetGraph();
    window.addEventListener('hashchange', resetGraph);
  }

  class Database {
    // Schema
    // {
    //   clusters: {
    //     [tag: string]: {
    //       forward: {
    //         [src: number]: Array<number>
    //       },
    //       reverse: {
    //         [dest: number]: Array<number>
    //       }
    //     }
    //   }
    //   notes: [
    //     {
    //       title: <str>,
    //       filename: <str>,
    //       links: [{ src: <int>, dest: <int>, annotation: <str> }],
    //       backlinks: [<link>]
    //     }
    //   ]
    // }

    constructor () {
      this.data = { notes: [], clusters: {} };
    }

    add (record) {
      return record.addTo(this) || record
    }
  }

  class IntegrityError extends Error {}
  class DomainError extends IntegrityError {}
  class ReferenceError extends IntegrityError {}

  function check (condition, message) {
    if (!condition) throw new DomainError(message)
  }

  class Note {
    constructor (id, title, filename) {
      check(typeof id === 'number', 'non-number Note.id');
      check(Number.isInteger(id), 'invalid Note.id');
      check(typeof title === 'string', 'invalid Note.title');
      check(typeof filename === 'string', 'invalid Note.filename');
      check(title, 'empty Note.title');
      check(filename, 'missing Note.filename');

      this.id = id;
      this.title = title;
      this.filename = filename;
    }

    addTo (db) {
      // Overwrite existing entry in notes.
      db.data.notes[this.id] = {
        title: this.title,
        filename: this.filename,
        links: [],
        backlinks: [],
        clusters: {}
      };
    }

    equals (note) {
      return this.id === note.id && this.title === note.title && this.filename === note.filename
    }
  }

  class Link {
    constructor (src, dest, annotation) {
      check(src instanceof Note, 'invalid src Note');
      check(dest instanceof Note, 'invalid dest Note');
      check(typeof annotation === 'string', 'non-string Link.annotation');

      this.src = src;
      this.dest = dest;
      this.annotation = annotation;
    }

    addTo (db) {
      const src = db.data.notes[this.src.id];
      const dest = db.data.notes[this.dest.id];
      if (!src) return new ReferenceError('Link.src')
      if (!dest) return new ReferenceError('Link.dest')

      // Existing entries get overwritten.
      const link = {
        src: this.src,
        dest: this.dest,
        annotation: this.annotation
      };
      src.links.push(link);
      dest.backlinks.push(link);
    }
  }

  class Cluster {
    constructor (tag, src, dest, destType = 'N') {
      check(typeof tag === 'string', 'non-string Cluster.tag');
      check(tag, 'invalid Cluster.tag');
      check(typeof src === 'number', 'non-number Cluster.src');
      switch (destType) {
        case 'N':
          check(typeof dest === 'number', 'non-number Cluster.dest');
          break
        case 'T':
          check(typeof dest === 'string', 'non-string Cluster.dest');
          break
        default:
          throw new DomainError('invalid Cluster.destType')
      }
      this.tag = tag;
      this.src = src;
      this.dest = dest;
      this.destType = destType;
    }

    addTo (db) {
      const src = this.src;
      const dest = this.dest;
      if (!db.data.notes[src]) return new ReferenceError('Cluster.src')
      if (typeof dest === 'number' && !db.data.notes[dest]) return new ReferenceError('Cluster.dest')
      const result = db.data.clusters[this.tag] || {
        forward: {},
        reverse: {}
      };
      const forward = result.forward[src] || [];
      const reverse = result.reverse[dest] || [];
      forward.push(dest);
      reverse.push(src);
      result.forward[src] = forward;
      result.reverse[dest] = reverse;
      db.data.clusters[this.tag] = result;
    }
  }

  class Query {
    constructor (db) {
      this.db = db;
    }

    note (id) {
      const record = this.db.data.notes[id];
      if (!record) return null

      const note = new Note(id, record.title, record.filename);

      note.links = () => this.links(note);
      note.backlinks = () => this.backlinks(note);
      return note
    }

    * links (note) {
      const src = this.db.data.notes[note.id];
      if (src && src.links) {
        yield * src.links;
      }
    }

    * backlinks (note) {
      const dest = this.db.data.notes[note.id];
      if (dest && dest.backlinks) {
        yield * dest.backlinks;
      }
    }
  }

  var Model = /*#__PURE__*/Object.freeze({
    __proto__: null,
    Cluster: Cluster,
    Database: Database,
    DomainError: DomainError,
    Link: Link,
    Note: Note,
    Query: Query,
    ReferenceError: ReferenceError
  });

  function createFuse () {
    const options = {
      includeMatches: true,
      ignoreLocation: true,
      keys: ['textContent'],
      threshold: 0.45
    };
    const nodes = document.body.querySelectorAll('section.level1');
    const sections = Array.prototype.filter.call(nodes, function (node) {
      return Number.isInteger(Number(node.id))
    });
    return new Fuse(sections, options)
  }

  function displayResults (results, container) {
    // Display results in container.
    const div = container;
    div.textContent = '';
    for (const result of results) {
      const p = document.createElement('p');
      const h3 = document.createElement('h3');
      h3.innerHTML = `<a href="#${result.item.id}">${result.item.title}</a>`;
      p.appendChild(h3);

      let count = 3;
      for (const child of result.item.children) {
        const clone = child.cloneNode(true);
        if (count-- <= 0) break
        if (clone.tagName === 'H1' && clone.title === result.item.title) {
          continue
        }
        p.appendChild(clone);
      }

      div.appendChild(p);
      div.appendChild(document.createElement('hr'));
    }
  }

  function searchBar (fuse, container) {
    // Container will contain search results.
    const input = document.createElement('input');
    input.type = 'text';
    input.placeholder = 'Search notes...';
    input.classList.add('search-bar');
    input.style.width = '100%';
    input.style.background = 'transparent';
    input.style.border = 'none';
    input.style.borderBottomStyle = 'solid';
    input.style.borderWidth = 'thin';

    input.addEventListener('change', function () {
      window.location.hash = '#search';
      const results = fuse.search(input.value);
      displayResults(results, container);
    });
    return input
  }

  function searchResults () {
    const div = document.createElement('div');
    div.classList.add('search-results');
    return div
  }

  function searchPage (container) {
    // Container will contain search results.
    const page = document.createElement('section');
    page.id = 'search';
    page.title = 'Search';
    page.classList.add('level1');
    page.appendChild(container);
    return page
  }

  function searchSpan () {
    const span = document.createElement('span');
    span.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M23.809 21.646l-6.205-6.205c1.167-1.605 1.857-3.579 1.857-5.711 0-5.365-4.365-9.73-9.731-9.73-5.365 0-9.73 4.365-9.73 9.73 0 5.366 4.365 9.73 9.73 9.73 2.034 0 3.923-.627 5.487-1.698l6.238 6.238 2.354-2.354zm-20.955-11.916c0-3.792 3.085-6.877 6.877-6.877s6.877 3.085 6.877 6.877-3.085 6.877-6.877 6.877c-3.793 0-6.877-3.085-6.877-6.877z"/></svg>';
    span.firstChild.style.height = '1em';
    return span
  }

  function searchForm (container) {
    // Container will contain search results.
    const button = searchSpan();
    const input = searchBar(createFuse(), container);
    input.style.display = 'none';

    button.addEventListener('click', function () {
      button.style.display = 'none';
      input.style.display = '';
      input.focus();
    });

    input.addEventListener('focusout', function () {
      button.style.display = '';
      input.style.display = 'none';
    });

    const div = document.createElement('div');
    div.appendChild(button);
    div.appendChild(input);
    return div
  }

  function init$1 () {
    const container = searchResults();
    document.body.appendChild(searchPage(container));
    document.body.insertBefore(searchForm(container), document.body.firstChild);
  }

  function getSectionFromHash (hash) {
    const id = hash.substring(1);
    if (!id) { return null }
    const elem = document.getElementById(id);
    if (elem) {
      return elem.closest('section.level1')
    }
  }

  function sectionChanger () {
    let _previousHash = window.location.hash;
    return function () {
      const oldSection = getSectionFromHash(_previousHash);
      if (oldSection) {
        oldSection.style.display = 'none';
      }
      _previousHash = window.location.hash;
      const newSection = getSectionFromHash(_previousHash);
      if (newSection) {
        newSection.style.display = '';
        document.title = newSection.title || 'Slipbox';
      } else {
        window.location.hash = '#0';
      }
      window.scrollTo(0, 0);
    }
  }

  function notFoundSection () {
    const section = document.createElement('section');
    section.id = '0';
    section.classList.add('level1');
    section.style.display = 'none';
    const h1 = document.createElement('h1');
    h1.innerText = 'Note not found';
    section.appendChild(h1);
    return section
  }

  function init$2 () {
    document.body.appendChild(notFoundSection());
    const changeSection = sectionChanger();
    changeSection();
    window.addEventListener('hashchange', changeSection);
  }

  window.query = new Query(new Database());

  window.Model = Model;

  window.initSlipbox = function () {
    const title = document.getElementById('title-block-header');
    if (title) { title.remove(); }
    init$1();
    init$2();
    init(window.query);
  };
  </script>
  <script type="text/javascript">
  window.addEventListener('DOMContentLoaded', () => {
  window.query.db.add(new Model.Note(0, 'slipbox', 'index.md'))
  window.query.db.add(new Model.Note(1, 'Installation', 'index.md'))
  window.query.db.add(new Model.Note(2, 'Usage', 'index.md'))
  window.query.db.add(new Model.Note(3, 'Initializing slipbox with slipbox init', 'index.md'))
  window.query.db.add(new Model.Note(4, 'Compiling notes with slipbox build', 'index.md'))
  window.query.db.add(new Model.Note(5, 'Note format', 'index.md'))
  window.query.db.add(new Model.Note(6, 'Linking to external files/images', 'index.md'))
  window.query.db.add(new Model.Note(7, '.slipbox/config.cfg', 'index.md'))
  window.query.db.add(new Model.Note(8, 'Note connections', 'index.md'))
  window.query.db.add(new Model.Note(9, 'Tags', 'index.md'))
  window.query.db.add(new Model.Note(10, 'Direct links', 'index.md'))
  window.query.db.add(new Model.Note(11, 'Note graph', 'index.md'))
  window.query.db.add(new Model.Note(12, 'Tagged links', 'index.md'))
  window.query.db.add(new Model.Note(13, 'Text search', 'index.md'))
  window.query.db.add(new Model.Note(14, 'Citations', 'index.md'))
  window.query.db.add(new Model.Link(
    window.query.note(0), window.query.note(1), ''))
  window.query.db.add(new Model.Link(
    window.query.note(0), window.query.note(2), ''))
  window.query.db.add(new Model.Link(
    window.query.note(0), window.query.note(5), ''))
  window.query.db.add(new Model.Link(
    window.query.note(0), window.query.note(8), ''))
  window.query.db.add(new Model.Link(
    window.query.note(10), window.query.note(11), ''))
  window.query.db.add(new Model.Link(
    window.query.note(11), window.query.note(10), ''))
  window.query.db.add(new Model.Link(
    window.query.note(11), window.query.note(12), ''))
  window.query.db.add(new Model.Link(
    window.query.note(4), window.query.note(5), ''))
  window.query.db.add(new Model.Link(
    window.query.note(12), window.query.note(11), ''))
  window.query.db.add(new Model.Link(
    window.query.note(14), window.query.note(7), ''))
  window.query.db.add(new Model.Link(
    window.query.note(8), window.query.note(9), ''))
  window.query.db.add(new Model.Link(
    window.query.note(8), window.query.note(10), ''))
  window.query.db.add(new Model.Link(
    window.query.note(8), window.query.note(12), ''))
  window.query.db.add(new Model.Link(
    window.query.note(8), window.query.note(13), ''))
  window.query.db.add(new Model.Link(
    window.query.note(8), window.query.note(14), ''))
  window.query.db.add(new Model.Cluster('#connections', 8, 8, 'N'))
  window.query.db.add(new Model.Cluster('#connections', 9, 9, 'N'))
  window.query.db.add(new Model.Cluster('#connections', 10, 10, 'N'))
  window.query.db.add(new Model.Cluster('#connections', 11, 11, 'N'))
  window.query.db.add(new Model.Cluster('#connections', 12, 12, 'N'))
  window.query.db.add(new Model.Cluster('#entrypoints', 0, 1, 'N'))
  window.query.db.add(new Model.Cluster('#example', 12, 11, 'N'))
  window.query.db.add(new Model.Cluster('#getting-started', 1, 2, 'N'))
  window.query.db.add(new Model.Cluster('#initialization', 3, 7, 'N'))
  window.query.db.add(new Model.Cluster('#tagged-links', 9, 12, 'N'))
  window.query.db.add(new Model.Cluster('#usage', 2, 3, 'N'))
  window.query.db.add(new Model.Cluster('#usage', 2, 5, 'N'))
  window.query.db.add(new Model.Cluster('#usage', 3, 4, 'N'))
  window.query.db.add(new Model.Cluster('#usage', 5, 4, 'N'))
  window.query.db.add(new Model.Cluster('#usage', 5, 6, 'N'))
  window.initSlipbox()
  })
  </script>
</head>
<body>
<section id="0" class="level1" title="slipbox" style="display:none">
<h1 title="slipbox">0 slipbox</h1>
<p><code>slipbox</code> is a static site generator for Zettelkasten notes.</p>
<ul>
<li><a href="#1">Installation</a></li>
<li><a href="#2">Usage</a></li>
<li><a href="#5">Note format</a></li>
<li><a href="#8">Connecting notes</a></li>
</ul>
<p>GitHub: <a href="https://github.com/lggruspe/slipbox" class="uri">https://github.com/lggruspe/slipbox</a></p>
<p>Slipbox: <a href="https://lggruspe.github.io/slipbox" class="uri">https://lggruspe.github.io/slipbox</a></p>
<p>Source: <a href="https://github.com/lggruspe/slipbox/blob/master/docs/index.md" class="uri">https://github.com/lggruspe/slipbox/blob/master/docs/index.md</a></p>
<hr />
<ul>
<li>Start here  [<a href="#1">#1</a>]</li>
</ul>
</section>
<section id="1" class="level1" title="Installation" style="display:none">
<h1 title="Installation">1 Installation</h1>
<p>Make sure you have <code>pandoc</code>, <code>pandoc-citeproc</code> and <code>python</code> installed.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true"></a><span class="ex">pip</span> install slipbox</span></code></pre></div>
<hr />
<ul>
<li>Usage  [<a href="#2">#2</a>]</li>
</ul>
</section>
<section id="2" class="level1" title="Usage" style="display:none">
<h1 title="Usage">2 Usage</h1>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true"></a><span class="ex">python</span> -m slipbox init my-slipbox</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true"></a><span class="bu">cd</span> my-slipbox</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true"></a><span class="co"># ...add notes</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true"></a><span class="ex">python</span> -m slipbox build</span></code></pre></div>
<hr />
<ul>
<li>Initialize slipbox  [<a href="#3">#3</a>]</li>
<li>Note format  [<a href="#5">#5</a>]</li>
</ul>
</section>
<section id="3" class="level1" title="Initializing slipbox with slipbox init" style="display:none">
<h1 title="Initializing slipbox with slipbox init">3 Initializing slipbox with <code>slipbox init</code></h1>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true"></a><span class="ex">python</span> -m slipbox init my-slipbox</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true"></a><span class="bu">cd</span> my-slipbox</span></code></pre></div>
<p>The initialized directory contains a <code>.slipbox</code> directory. Inside it you’ll find a configuration file, an sqlite3 database and a patterns file.</p>
<hr />
<ul>
<li>Compile notes  [<a href="#4">#4</a>]</li>
<li>Configuring slipbox  [<a href="#7">#7</a>]</li>
</ul>
</section>
<section id="4" class="level1" title="Compiling notes with slipbox build" style="display:none">
<h1 title="Compiling notes with slipbox build">4 Compiling notes with <code>slipbox build</code></h1>
<p><code>slipbox build</code> searches the slipbox directory for notes recursively. It considers every file in the directory that matches the glob patterns in <code>.slipbox/patterns</code>.</p>
<p>You can store each note in a separate file, or you can put multiple notes together in one file (a slipbox note is just a <a href="#5">section in a document</a>).</p>
</section>
<section id="5" class="level1" title="Note format" style="display:none">
<h1 title="Note format">5 Note format</h1>
<p>Slipbox notes begin with a level 1 header. The header text must contain an ID and a title.</p>
<p>You can navigate to a specific note in the browser by replacing the URL hash with the ID of the note.</p>
<hr />
<ul>
<li>Compiling notes  [<a href="#4">#4</a>]</li>
<li>Images and external links  [<a href="#6">#6</a>]</li>
</ul>
</section>
<section id="6" class="level1" title="Linking to external files/images" style="display:none">
<h1 title="Linking to external files/images">6 Linking to external files/images</h1>
<p>Links must either be absolute or relative to the output HTML. Suppose your slipbox directory has the following structure.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true"></a><span class="ex">.slipbox/</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true"></a><span class="ex">notes/input.md</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true"></a><span class="ex">output.html</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true"></a><span class="ex">images/image.png</span></span></code></pre></div>
<p>Example:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true"></a><span class="co">&lt;!--</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true"></a><span class="co">Link from notes/input.md to images/image.png is relative to output.html</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true"></a><span class="co">--&gt;</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true"></a></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true"></a><span class="al">![](images/image.png)</span></span></code></pre></div>
</section>
<section id="7" class="level1" title=".slipbox/config.cfg" style="display:none">
<h1 title=".slipbox/config.cfg">7 <code>.slipbox/config.cfg</code></h1>
<p>The config file gets created when you run <code>slipbox init</code>. Here’s a sample config file that uses <code>mathjax</code> and <code>citeproc</code>.</p>
<pre><code>// .slipbox/config.cfg
[slipbox]
content_options = --mathjax --bibliography my-bib.bib
document_options = --mathjax --o output.html -c my-css.css
convert_to_data_url = False</code></pre>
<p><code>content_options</code> and <code>document_options</code> are both passed to Pandoc.</p>
<dl>
<dt><code>content_options</code></dt>
<dd>Used when Pandoc converts new notes into HTML sections.
</dd>
<dt><code>document_options</code></dt>
<dd>Used when Pandoc compiles every section into one file.
</dd>
</dl>
</section>
<section id="8" class="level1" title="Note connections" style="display:none">
<h1 title="Note connections">8 Note connections</h1>
<p><a href="##connections">#connections</a></p>
<p><code>slipbox</code> provides multiple ways of connecting notes.</p>
<ul>
<li><a href="#9">Tags</a></li>
<li><a href="#10">Links/backlinks</a></li>
<li><a href="#12">Tagged links</a></li>
<li><a href="#13">Text search</a></li>
<li><a href="#14">Citations</a></li>
</ul>
</section>
<section id="9" class="level1" title="Tags" style="display:none">
<h1 title="Tags">9 Tags</h1>
<p><a href="##connections">#connections</a></p>
<p>slipbox uses a Pandoc filter to convert hashtags into tags. You can click on tags to get a list of other notes that have the same tag.</p>
<p>The <a href="#tags"><code>#tags</code></a> page contains a list of all tags in use.</p>
<hr />
<ul>
<li>Tagged links  [<a href="#12">#12</a>]</li>
</ul>
</section>
<section id="10" class="level1" title="Direct links" style="display:none">
<h1 title="Direct links">10 Direct links</h1>
<p><a href="##connections">#connections</a></p>
<p>To link to a note in the slipbox, use the note’s ID as the link target. slipbox automatically creates backlinks from direct links.</p>
<p>The links can be seen in the interactive graph below.  [<a href="#11">#11</a>]</p>
</section>
<section id="11" class="level1" title="Note graph" style="display:none">
<h1 title="Note graph">11 Note graph</h1>
<p><a href="##connections">#connections</a></p>
<p>Note pages contain a graph of notes related to the current note at the bottom of the page.</p>
<p>It shows</p>
<ul>
<li>the current note (black)</li>
<li>related notes (gray)</li>
<li><a href="#10">links and backlinks</a> (solid lines)</li>
<li><a href="#12">tagged links</a> (dashed lines).</li>
</ul>
</section>
<section id="12" class="level1" title="Tagged links" style="display:none">
<h1 title="Tagged links">12 Tagged links</h1>
<p><a href="##connections">#connections</a></p>
<p>A tagged link is a hashtag followed by a slash and a note ID. Example:  [<a href="#11">#11</a>]</p>
<p>This connects the current note to the linked note.</p>
<p>The purpose of the tag is to distinguish between different levels of sequences.</p>
<ul>
<li>In a book, there’s a sequence of chapters, a sequence of sections, etc.</li>
<li>Tagged links make it possible to distinguish between different types of sequences.</li>
</ul>
<p>These links show up in the <a href="#11">interactive graph</a> as dashed lines.</p>
</section>
<section id="13" class="level1" title="Text search" style="display:none">
<h1 title="Text search">13 Text search</h1>
<p>There’s a search bar at the top of the page that you can use to look for notes.</p>
</section>
<section id="14" class="level1" title="Citations" style="display:none">
<h1 title="Citations">14 Citations</h1>
<p><code>slipbox</code> uses <code>pandoc-citeproc</code> for citations. Clicking on a citation will open a page with a list of all notes that cite the same reference.</p>
<p>Here’s how a citation looks: <span class="citation" data-cites="cite2020">(Author <a href="#ref-cite2020" role="doc-biblioref">2020</a>)</span>.</p>
<p>To activate this feature, you need to specify a bibliography file in the <a href="#7">config file</a>.</p>
<p>The <a href="#references"><code>#references</code></a> page contains a list of all cited references.</p>
</section>
<section id='#connections' title='#connections' style='display:none' class='level1'>
  <h1>
    <a href='#tags' title='List of tags'>
      #connections
    </a>
  </h1>
  <ul>
    <li>
      [8] 
      <a href='#8'>
        Note connections
      </a>
    </li>
    <li>
      [9] 
      <a href='#9'>
        Tags
      </a>
    </li>
    <li>
      [10] 
      <a href='#10'>
        Direct links
      </a>
    </li>
    <li>
      [11] 
      <a href='#11'>
        Note graph
      </a>
    </li>
    <li>
      [12] 
      <a href='#12'>
        Tagged links
      </a>
    </li>
  </ul>
</section>
<section id='#entrypoints' title='#entrypoints' style='display:none' class='level1'>
  <h1>
    <a href='#tags' title='List of tags'>
      #entrypoints
    </a>
  </h1>
  <ul>
    <li>
      [0] 
      <a href='#0'>
        slipbox
      </a>
    </li>
    <li>
      [1] 
      <a href='#1'>
        Installation
      </a>
    </li>
  </ul>
</section>
<section id='#example' title='#example' style='display:none' class='level1'>
  <h1>
    <a href='#tags' title='List of tags'>
      #example
    </a>
  </h1>
  <ul>
    <li>
      [11] 
      <a href='#11'>
        Note graph
      </a>
    </li>
    <li>
      [12] 
      <a href='#12'>
        Tagged links
      </a>
    </li>
  </ul>
</section>
<section id='#getting-started' title='#getting-started' style='display:none' class='level1'>
  <h1>
    <a href='#tags' title='List of tags'>
      #getting-started
    </a>
  </h1>
  <ul>
    <li>
      [1] 
      <a href='#1'>
        Installation
      </a>
    </li>
    <li>
      [2] 
      <a href='#2'>
        Usage
      </a>
    </li>
  </ul>
</section>
<section id='#initialization' title='#initialization' style='display:none' class='level1'>
  <h1>
    <a href='#tags' title='List of tags'>
      #initialization
    </a>
  </h1>
  <ul>
    <li>
      [3] 
      <a href='#3'>
        Initializing slipbox with slipbox init
      </a>
    </li>
    <li>
      [7] 
      <a href='#7'>
        .slipbox/config.cfg
      </a>
    </li>
  </ul>
</section>
<section id='#tagged-links' title='#tagged-links' style='display:none' class='level1'>
  <h1>
    <a href='#tags' title='List of tags'>
      #tagged-links
    </a>
  </h1>
  <ul>
    <li>
      [9] 
      <a href='#9'>
        Tags
      </a>
    </li>
    <li>
      [12] 
      <a href='#12'>
        Tagged links
      </a>
    </li>
  </ul>
</section>
<section id='#usage' title='#usage' style='display:none' class='level1'>
  <h1>
    <a href='#tags' title='List of tags'>
      #usage
    </a>
  </h1>
  <ul>
    <li>
      [2] 
      <a href='#2'>
        Usage
      </a>
    </li>
    <li>
      [3] 
      <a href='#3'>
        Initializing slipbox with slipbox init
      </a>
    </li>
    <li>
      [4] 
      <a href='#4'>
        Compiling notes with slipbox build
      </a>
    </li>
    <li>
      [5] 
      <a href='#5'>
        Note format
      </a>
    </li>
    <li>
      [6] 
      <a href='#6'>
        Linking to external files/images
      </a>
    </li>
  </ul>
</section>
<section id='tags' title='Tags' style='display:none' class='level1'>
  <h1>
    Tags
  </h1>
  <ul>
    <li>
      <a href='##connections'>
        #connections
      </a>
    </li>
    <li>
      <a href='##entrypoints'>
        #entrypoints
      </a>
    </li>
    <li>
      <a href='##example'>
        #example
      </a>
    </li>
    <li>
      <a href='##getting-started'>
        #getting-started
      </a>
    </li>
    <li>
      <a href='##initialization'>
        #initialization
      </a>
    </li>
    <li>
      <a href='##tagged-links'>
        #tagged-links
      </a>
    </li>
    <li>
      <a href='##usage'>
        #usage
      </a>
    </li>
  </ul>
</section>
<section id='ref-cite2020' title='ref-cite2020' style='display:none' class='level1'>
  <h1>
    <a href='#references'>
      @cite2020
    </a>
  </h1>
  <p>
    Author. 2020. Title.
  </p>
  <ul>
    <li>
      [14] 
      <a href='#14'>
        Citations
      </a>
    </li>
  </ul>
</section>
<section id='references' title='References' style='display:none' class='level1'>
  <h1>
    References
  </h1>
  <dl>
    <dt>
      <a href='#ref-cite2020'>
        [@cite2020]
      </a>
    </dt>
    <dd>
      Author. 2020. Title.
    </dd>
  </dl>
</section>
<header id="title-block-header">
<h1 class="title">Slipbox</h1>
</header>
<div style="display:none">
<p><span class="math inline"> </span></p>
<div class="sourceCode" id="cb1"><pre class="sourceCode c"><code class="sourceCode c"></code></pre></div>
</div>
</body>
</html>
